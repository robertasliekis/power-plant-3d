(this["webpackJsonpreact-three"]=this["webpackJsonpreact-three"]||[]).push([[0],{56:function(e,t,n){e.exports=n(73)},60:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(22),r=n.n(i),c=(n(60),n(20)),l=function(e){return{type:"SET_CLICKED_FLOOR",payload:e}},s=function(e){return{type:"SET_CLICKED_ROOM",payload:e}},u=n(8),m=n(55),d=n(29),p=n(11),f=n(36);var h=function(){var e=Object(u.e)(f.a,"./models/plant.glb").nodes,t=[];return[1,2,3,4].forEach((function(n,a){t[a]=e["building".concat(n,"_1")].geometry})),[e.ground_1.geometry,e.road_1.geometry,e.buildings_1.geometry,e.chimney01_1.geometry,e.chimney02_1.geometry,e.chimney03_1.geometry,t]};var g=function(){var e=Object(u.e)(f.a,"./models/floor.glb").nodes,t=e.floor_base_1.geometry,n=e.floor_base_side_1.geometry,a=Array(5).fill(0),o=[6,4,5,4,5],i=[];return a.forEach((function(t,n){var a=Array(o[n]).fill(0);a.forEach((function(t,o){var i="floor".concat(n+1,"_room_").concat(o+1,"_1");a[o]=e[i].geometry})),i.push(a)})),[t,n,i]},b=function(e){e.windowWidth;var t=e.clickedFloor,n=(e.clickedRoom,e.onClickedFloorChange),i=(e.onClickedRoomChange,g()),r=Object(p.a)(i,3),c=(r[0],r[1],r[2],h()),l=Object(p.a)(c,7),s=l[0],m=l[1],d=l[2],f=l[3],b=l[4],E=l[5],v=l[6];h();var y=Object(a.useRef)(),k=Object(a.useRef)([]),O=Object(a.useRef)([]),w=Object(a.useRef)([[],[],[],[],[]]),C=Object(a.useRef)([]);Object(u.d)((function(){var e=function(e,t){O.current[t].opacity=e,C.current[t].opacity=e,w.current[t].forEach((function(t){t.opacity=e}))},n=function(e,t,n){var o=0;void 0!==n&&(o=30*n);var i=10*t-o;e.position.y>i?(n>0||void 0===n)&&(e.position.y-=a):e.position.y<i&&(n<0||void 0===n)&&(e.position.y+=a)},a=2;k.current.forEach((function(a,o){var i=1;if(null!==t){var r=t-o;i=.2,t!==o&&e(i,o),n(a,o,r)}else e(i,o),n(a,o)}))}));var j=Object(a.useState)(null),R=Object(p.a)(j,2),_=R[0],W=R[1],F=Object(a.useState)(null),S=Object(p.a)(F,2),L=(S[0],S[1],function(e,t){t?W(e):_===e&&W(null)});return o.a.createElement("group",{ref:y,position:[0,-20,0]},v.map((function(e,t){return o.a.createElement("mesh",{geometry:e,key:t,dispose:null,onPointerOver:function(e){e.stopPropagation(),L(t,!0)},onPointerOut:function(e){e.intersections.length&&L(t,!1)},onClick:function(e){e.stopPropagation(),n(t)}},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:_===t?"#00FBFF":"grey"}))})),o.a.createElement("mesh",{geometry:s},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"white"})),o.a.createElement("mesh",{geometry:m},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"black"})),o.a.createElement("mesh",{geometry:d},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"grey"})),o.a.createElement("mesh",{geometry:f},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"grey"})),o.a.createElement("mesh",{geometry:b},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"grey"})),o.a.createElement("mesh",{geometry:E},o.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"grey"})))};Object(u.c)({OrbitControls:d.b}),Object(m.a)();var E=function(e){e.windowWidth;var t=Object(u.f)(),n=t.camera,i=t.gl.domElement,r=Object(a.useRef)();Object(u.d)((function(e){return r.current.update()}));return o.a.createElement("orbitControls",{ref:r,args:[n,i],minDistance:50,maxDistance:250,minPolarAngle:1.2,maxPolarAngle:1.2})};var v={setClickedFloor:l,setClickedRoom:s},y=Object(c.b)((function(e){return{clickedFloor:e.setClickedFloor.clickedFloor,clickedRoom:e.setClickedRoom.clickedRoom,windowWidth:e.setWindowWidth.windowWidth}}),v)((function(e){var t=e.windowWidth,n=e.clickedFloor,i=e.clickedRoom,r=e.setClickedFloor,c=e.setClickedRoom;return o.a.createElement("div",{className:"floor-scene-container"},o.a.createElement(u.a,{colorManagement:!0,shadowMap:!0,camera:{position:[160,50,-140],fov:30}},o.a.createElement(E,{windowWidth:t}),o.a.createElement("ambientLight",{intensity:.6}),o.a.createElement("pointLight",{position:[-10,100,-20],intensity:.5}),o.a.createElement("group",null,o.a.createElement(a.Suspense,{fallback:null},o.a.createElement(b,{onClickedFloorChange:function(e){r(e)},onClickedRoomChange:function(e){c(e)},clickedFloor:n,clickedRoom:i,windowWidth:t})))))})),k=n(53),O=n(54),w=[{name:"Building",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis consequatur blanditiis placeat nisi, eius dignissimos itaque."},{name:"Building",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis."},{name:"Building",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis consequatur blanditiis.."},{name:"Building",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo."}];var C={setClickedFloor:l,setClickedRoom:s},j=Object(c.b)((function(e){return{clickedFloor:e.setClickedFloor.clickedFloor,clickedRoom:e.setClickedRoom.clickedRoom}}),C)((function(e){var t=e.clickedFloor,n=e.clickedRoom,i=e.setClickedFloor,r=e.setClickedRoom,c=Object(a.useState)(""),l=Object(p.a)(c,2),s=l[0],u=l[1],m=Object(a.useState)({name:"",description:""}),d=Object(p.a)(m,2),f=d[0],h=d[1];return Object(a.useEffect)((function(){null!==t&&u(w[t].description),null!==n&&h(w[t].rooms[n])}),[t,n]),o.a.createElement("div",{className:"info-window"},o.a.createElement("div",{className:"floor-container container",style:{transform:null!==t?"translate(-100%, 0)":"translate(0, 0)",opacity:null!==t?1:0}},o.a.createElement("div",{className:"text-container"},o.a.createElement("h1",null,"Building ".concat(t+1,":")),o.a.createElement("p",null,"".concat(s))),o.a.createElement("div",{className:"btn btn-close",onClick:function(){i(null),r(null)}},o.a.createElement(k.a,{icon:O.a,className:"icon"}))),o.a.createElement("div",{className:"room-container container",style:{transform:null!==n?"translate(-100%, 0)":"translate(0, 0)",opacity:null!==n?1:0}},o.a.createElement("div",{className:"text-container"},o.a.createElement("h1",null,f.name),o.a.createElement("p",null,f.description))))}));var R={setWindowWidth:function(e){return{type:"SET_WINDOW_WIDTH",payload:e}}},_=Object(c.b)(null,R)((function(e){var t=e.setWindowWidth;return Object(a.useEffect)((function(){function e(){t(window.innerWidth)}return window.addEventListener("resize",e),e(),function(t){window.removeEventListener("resize",e)}})),o.a.createElement("div",{className:"website-wrapper"},o.a.createElement(y,null),o.a.createElement(j,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=n(26),F=n(18),S={clickedFloor:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLICKED_FLOOR":return Object(F.a)(Object(F.a)({},e),{},{clickedFloor:t.payload});default:return e}},q={clickedRoom:null,clickCount:0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLICKED_ROOM":return Object(F.a)(Object(F.a)({},e),{},{clickedRoom:t.payload,clickCount:e.clickCount+1});default:return e}},N={windowWidth:0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WINDOW_WIDTH":return Object(F.a)(Object(F.a)({},e),{},{windowWidth:t.payload});default:return e}},x=Object(W.b)({setClickedFloor:L,setClickedRoom:M,setWindowWidth:D}),I=Object(W.c)(x);r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,{store:I},o.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.5e4853fd.chunk.js.map