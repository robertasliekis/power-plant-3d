(this["webpackJsonpreact-three"]=this["webpackJsonpreact-three"]||[]).push([[0],{56:function(e,t,n){e.exports=n(73)},60:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(22),r=n.n(o),c=(n(60),n(20)),l=function(e){return{type:"SET_CLICKED_FLOOR",payload:e}},s=function(e){return{type:"SET_CLICKED_ROOM",payload:e}},u=n(8),m=n(55),d=n(29),p=n(11),h=n(0),g=n(48);var f=function(){var e=Object(u.e)(g.a,"./models/plant1.glb").nodes,t=[];[1,2,3,4,5].forEach((function(n,a){t[a]=e["tour_building_".concat(n,"_1")].geometry})),[1,2,3].forEach((function(n){t.push(e["smoke_detector_".concat(n,"_1")].geometry)}));var n=e.ground_1.geometry,a=e.road_1.geometry,i=e.extra_buildings_1.geometry,o={chimneyMesh01:e.chimney_1_1.geometry,chimneyMesh02:e.chimney_2_1.geometry,chimneyMesh03:e.chimney_3_1.geometry},r=e.pipes_grey_1.geometry,c=e.pipes_yellow_1.geometry,l=e.pipe_support_1.geometry;return[n,a,i,o,t,{pipesGreyMesh:r,pipesYellowMesh:c,pipesSupportMesh:l}]},y=function(e){e.windowWidth;var t=e.clickedFloor,n=(e.clickedRoom,e.onClickedFloorChange),o=(e.onClickedRoomChange,f()),r=Object(p.a)(o,6),c=r[0],l=r[1],s=r[2],m=r[3],d=r[4],g=r[5];f();var y=Object(u.e)(h.TextureLoader,"./models/chimney_stripes.jpg");y.wrapS=h.RepeatWrapping,y.wrapT=h.RepeatWrapping,y.repeat.set(1,1);var E=Object(a.useRef)(),b=Object(a.useRef)([]),w=Object(a.useRef)([]),v=Object(a.useRef)([[],[],[],[],[]]),k=Object(a.useRef)([]);Object(u.d)((function(){var e=function(e,t){w.current[t].opacity=e,k.current[t].opacity=e,v.current[t].forEach((function(t){t.opacity=e}))},n=function(e,t,n){var i=0;void 0!==n&&(i=30*n);var o=10*t-i;e.position.y>o?(n>0||void 0===n)&&(e.position.y-=a):e.position.y<o&&(n<0||void 0===n)&&(e.position.y+=a)},a=2;b.current.forEach((function(a,i){var o=1;if(null!==t){var r=t-i;o=.2,t!==i&&e(o,i),n(a,i,r)}else e(o,i),n(a,i)}))}));var O=Object(a.useState)(null),C=Object(p.a)(O,2),S=C[0],_=C[1],j=Object(a.useState)(null),M=Object(p.a)(j,2),W=(M[0],M[1],function(e,t){t?_(e):S===e&&_(null)});return i.a.createElement("group",{ref:E,position:[0,0,0],rotation:function(e,t,n){var a=[e,t,n];return a.map((function(e){return e*(Math.PI/180)}))}(-90,0,0)},d.map((function(e,t){return i.a.createElement("mesh",{geometry:e,key:t,dispose:null,onPointerOver:function(e){e.stopPropagation(),W(t,!0)},onPointerOut:function(e){e.intersections.length&&W(t,!1)},onClick:function(e){e.stopPropagation(),n(t)}},i.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:S===t?"#00FBFF":"grey"}))})),i.a.createElement("mesh",{geometry:c},i.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"white"})),i.a.createElement("mesh",{geometry:l},i.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"#CDCDCD"})),i.a.createElement("mesh",{geometry:s},i.a.createElement("meshStandardMaterial",{attach:"material",transparent:!0,color:"white"})),i.a.createElement("mesh",{geometry:m.chimneyMesh01},i.a.createElement("meshStandardMaterial",{attach:"material",color:"white",map:y})),i.a.createElement("mesh",{geometry:m.chimneyMesh02},i.a.createElement("meshStandardMaterial",{attach:"material",color:"white"})),i.a.createElement("mesh",{geometry:m.chimneyMesh03},i.a.createElement("meshStandardMaterial",{attach:"material",color:"white",map:y})),i.a.createElement("mesh",{geometry:g.pipesGreyMesh},i.a.createElement("meshStandardMaterial",{attach:"material",color:"#CDCDCD"})),i.a.createElement("mesh",{geometry:g.pipesYellowMesh},i.a.createElement("meshStandardMaterial",{attach:"material",color:"yellow"})),i.a.createElement("mesh",{geometry:g.pipesSupportMesh},i.a.createElement("meshStandardMaterial",{attach:"material",color:"yellow"})))};Object(u.c)({OrbitControls:d.b}),Object(m.a)();var E=function(e){e.windowWidth;var t=Object(u.f)(),n=t.camera,o=t.gl.domElement,r=Object(a.useRef)();Object(u.d)((function(e){return r.current.update()}));return i.a.createElement("orbitControls",{ref:r,args:[n,o],minDistance:50,maxDistance:250,minPolarAngle:1.2,maxPolarAngle:1.2})};var b={setClickedFloor:l,setClickedRoom:s},w=Object(c.b)((function(e){return{clickedFloor:e.setClickedFloor.clickedFloor,clickedRoom:e.setClickedRoom.clickedRoom,windowWidth:e.setWindowWidth.windowWidth}}),b)((function(e){var t=e.windowWidth,n=e.clickedFloor,o=e.clickedRoom,r=e.setClickedFloor,c=e.setClickedRoom;return i.a.createElement("div",{className:"floor-scene-container"},i.a.createElement(u.a,{colorManagement:!0,shadowMap:!0,camera:{position:[160,50,-140],fov:30}},i.a.createElement(E,{windowWidth:t}),i.a.createElement("ambientLight",{intensity:.6}),i.a.createElement("pointLight",{position:[-10,100,-20],intensity:.5}),i.a.createElement("group",null,i.a.createElement(a.Suspense,{fallback:null},i.a.createElement(y,{onClickedFloorChange:function(e){r(e)},onClickedRoomChange:function(e){c(e)},clickedFloor:n,clickedRoom:o,windowWidth:t})))))})),v=n(53),k=n(54),O=[{name:"Building 1",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis consequatur blanditiis placeat nisi, eius dignissimos itaque.",tourLink:"http://e2.chc.lt/turas1/"},{name:"Building 2",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis.",tourLink:"http://e2.chc.lt/turas2/"},{name:"Building 3",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis consequatur blanditiis..",tourLink:"http://e2.chc.lt/turas3/"},{name:"Building 4",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo.",tourLink:"http://e2.chc.lt/turas4/"},{name:"Building 5",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo.",tourLink:"http://e2.chc.lt/turas5/"},{name:"Smoke detector",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo magnam consequatur quo! Quos voluptates quis consequatur blanditiis.."},{name:"Smoke detector",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo."},{name:"Smoke detector",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente omnis natus temporibus fugiat ex nihil cum illo."}];var C={setClickedFloor:l},S=Object(c.b)((function(e){return{clickedFloor:e.setClickedFloor.clickedFloor}}),C)((function(e){var t=e.clickedFloor,n=e.setClickedFloor,o=Object(a.useState)(""),r=Object(p.a)(o,2),c=r[0],l=r[1];return Object(a.useEffect)((function(){null!==t&&l(O[t])}),[t]),i.a.createElement("div",{className:"info-window"},i.a.createElement("div",{className:"floor-container container",style:{transform:null!==t?"translate(-100%, 0)":"translate(0, 0)",opacity:null!==t?1:0}},i.a.createElement("div",{className:"text-container"},i.a.createElement("h1",null,"".concat(c.name)),i.a.createElement("p",null,"".concat(c.description)),c.tourLink?i.a.createElement("a",{href:"".concat(c.tourLink)},"Go to virtual tour"):null),i.a.createElement("div",{className:"btn btn-close",onClick:function(){n(null),s(null)}},i.a.createElement(v.a,{icon:k.a,className:"icon"}))))}));var _={setWindowWidth:function(e){return{type:"SET_WINDOW_WIDTH",payload:e}}},j=Object(c.b)(null,_)((function(e){var t=e.setWindowWidth;return Object(a.useEffect)((function(){function e(){t(window.innerWidth)}return window.addEventListener("resize",e),e(),function(t){window.removeEventListener("resize",e)}})),i.a.createElement("div",{className:"website-wrapper"},i.a.createElement(w,null),i.a.createElement(S,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(26),W=n(18),L={clickedFloor:null},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLICKED_FLOOR":return Object(W.a)(Object(W.a)({},e),{},{clickedFloor:t.payload});default:return e}},F={clickedRoom:null,clickCount:0},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLICKED_ROOM":return Object(W.a)(Object(W.a)({},e),{},{clickedRoom:t.payload,clickCount:e.clickCount+1});default:return e}},D={windowWidth:0},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WINDOW_WIDTH":return Object(W.a)(Object(W.a)({},e),{},{windowWidth:t.payload});default:return e}},I=Object(M.b)({setClickedFloor:R,setClickedRoom:q,setWindowWidth:x}),T=Object(M.c)(I);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(c.a,{store:T},i.a.createElement(j,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.a063d6be.chunk.js.map